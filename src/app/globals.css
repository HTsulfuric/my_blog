@import "tailwindcss";
@plugin "@tailwindcss/typography";

:root {
  /* Nord Snow Storm (Light theme) */
  --background: #eceff4;
  --foreground: #2e3440;

  /* Nord Palette */
  --nord0: #2e3440;
  /* Polar Night - darkest */
  --nord1: #3b4252;
  --nord2: #434c5e;
  --nord3: #4c566a;
  --nord4: #d8dee9;
  /* Snow Storm - light */
  --nord5: #e5e9f0;
  --nord6: #eceff4;
  /* Snow Storm - lightest */
  --nord7: #8fbcbb;
  /* Frost - cyan */
  --nord8: #88c0d0;
  /* Frost - bright cyan */
  --nord9: #81a1c1;
  /* Frost - blue */
  --nord10: #5e81ac;
  /* Frost - dark blue */
  --nord11: #bf616a;
  /* Aurora - red */
  --nord12: #d08770;
  /* Aurora - orange */
  --nord13: #ebcb8b;
  /* Aurora - yellow */
  --nord14: #a3be8c;
  /* Aurora - green */
  --nord15: #b48ead;
  /* Aurora - purple */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-zen-kaku-gothic-new), var(--font-geist-sans), sans-serif;
  --font-mono: var(--font-geist-mono), monospace;

  /* Nord Color Utilities */
  --color-nord-snow-storm: var(--nord6);
  --color-nord-polar-night: var(--nord0);
  --color-nord-frost-blue: var(--nord9);
  --color-nord-frost-blue-dark: var(--nord10);
  --color-nord-frost-cyan: var(--nord8);
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Nord Polar Night (Dark theme) */
    --background: #2e3440;
    --foreground: #eceff4;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-zen-kaku-gothic-new), var(--font-geist-sans), sans-serif;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ここから追記: Shiki (rehype-pretty-code) 用のスタイル */

/* コードブロックのコンテナ */
pre {
  @apply overflow-x-auto p-4 rounded-lg my-6 border border-gray-700;
}

/* インラインコード (`code`) */
code {
  @apply px-1 py-0.5 rounded text-sm;
  background-color: var(--nord1); /* 例: 暗めの背景色 */
  color: var(--nord6); /* 例: 明るめの文字色 */
}

/* コードブロック内の code タグは背景色をリセット（preが持つため） */
pre code {
  @apply bg-transparent text-inherit p-0 text-base;
}

/* 行ハイライトなどの高度なスタイル（オプション） */
/* data-highlighted-line は特定の行を強調する際に自動付与されます */
div[data-rehype-pretty-code-fragment] code {
  @apply grid;
  /* 行番号などを整えるためにgrid推奨 */
}

span[data-highlighted-line] {
  @apply bg-gray-800 border-l-4 border-blue-500 pl-3 block -mx-4 pr-4;
}

/* Adjust heading spacing */
.prose h1 {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

/* Markdown heading indicators */
.prose h1::before {
  content: "# ";
  color: var(--nord10);
  /* Nord Frost Blue */
  margin-right: 0.25em;
  font-weight: inherit;
}

.prose h2::before {
  content: "## ";
  color: var(--nord10);
  margin-right: 0.25em;
  font-weight: inherit;
}

.prose h3::before {
  content: "### ";
  color: var(--nord10);
  margin-right: 0.25em;
  font-weight: inherit;
}

/* Remove backticks from inline code in prose */
.prose code::before {
  content: none !important;
}
.prose code::after {
  content: none !important;
}
